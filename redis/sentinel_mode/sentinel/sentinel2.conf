port 26379

daemonize no

pidfile "/var/run/redis-sentinel.pid"

logfile ""

sentinel myid 69c1f8276a8fedd78a9f987da8c85fce0ea7f751
sentinel deny-scripts-reconfig yes

dir "/tmp"

# 这里配置监控主服务的IP 端口 ， 2表示两台机器判定主被动下线后，就进行failover(故障转移)，这里需要遵循过半机制
sentinel monitor mymaster 192.168.168.128 6380 2

sentinel auth-pass mymaster 123456

sentinel config-epoch mymaster 4

sentinel leader-epoch mymaster 4

#同样需要声明物理机的ip与port
sentinel known-replica mymaster 172.23.0.1 6379
sentinel known-replica mymaster 192.168.168.128 6379

# Generated by CONFIG REWRITE
user default on nopass ~* +@all
sentinel known-replica mymaster 192.168.168.128 6381
sentinel known-sentinel mymaster 192.168.168.128 26381 59c1f8276a8fedd78a9f987da8c85fce0ea7f751
sentinel known-sentinel mymaster 192.168.168.128 26379 79c1f8276a8fedd78a9f987da8c85fce0ea7f751
sentinel current-epoch 4
sentinel announce-ip "192.168.168.128"
sentinel announce-port 26380
